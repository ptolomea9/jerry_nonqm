<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Jerry Non-QM Outreach{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
</head>
<body class="h-full">
<div class="min-h-full">
    <!-- Navigation -->
    <nav class="bg-gradient-to-r from-indigo-700 via-indigo-700 to-slate-800">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex h-14 items-center justify-between">
                <div class="flex items-center">
                    <a href="{{ url_for('dashboard.index') }}" class="text-white font-extrabold text-lg tracking-tight">
                        Jerry Non-QM
                    </a>
                    <div class="ml-10 flex items-baseline space-x-1">
                        {% set nav_items = [
                            ('dashboard.index', 'Dashboard', ['/', '/dashboard']),
                            ('leads.index', 'Leads', ['/leads']),
                            ('lists.index', 'Lists', ['/lists']),
                            ('flyers.index', 'Flyers', ['/flyers']),
                            ('templates.index', 'Templates', ['/templates']),
                            ('outreach.setup', 'Outreach', ['/outreach'])
                        ] %}
                        {% for endpoint, label, paths in nav_items %}
                        {% set is_active = request.path in paths or (paths[0] != '/' and request.path.startswith(paths[0])) %}
                        <a href="{{ url_for(endpoint) }}"
                           class="{% if is_active %}bg-white/15 text-white{% else %}text-indigo-200 hover:bg-white/10 hover:text-white{% endif %} rounded-lg px-3 py-1.5 text-sm font-medium transition-colors duration-150">
                            {{ label }}
                        </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Flash messages -->
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="rounded-xl p-4 mb-3 ring-1
            {% if category == 'error' %}bg-red-50 text-red-800 ring-red-200
            {% elif category == 'warning' %}bg-amber-50 text-amber-800 ring-amber-200
            {% elif category == 'info' %}bg-blue-50 text-blue-800 ring-blue-200
            {% else %}bg-emerald-50 text-emerald-800 ring-emerald-200{% endif %}">
            <p class="text-sm font-medium">{{ message }}</p>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </div>

    <!-- Main content -->
    <main>
        <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
            {% block content %}{% endblock %}
        </div>
    </main>
</div>

{% block scripts %}{% endblock %}
</body>
</html>
